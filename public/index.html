<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shodhak - Research Assistant</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h1>Shodhak</h1>
                <span class="version">v1.0</span>
            </div>

            <button id="new-session-btn" class="new-session-btn">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="12" y1="5" x2="12" y2="19"></line>
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                </svg>
                New Research
            </button>

            <div class="sessions-section">
                <h3>Recent Sessions</h3>
                <div id="sessions-list" class="sessions-list"></div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Welcome Screen -->
            <div id="welcome-screen" class="welcome-screen">
                <div class="welcome-content">
                    <h2>Welcome to Shodhak</h2>
                    <p>AI-powered research assistant for academic literature</p>
                    <form id="welcome-form" class="welcome-form">
                        <input
                            type="text"
                            id="welcome-query"
                            placeholder="What would you like to research today?"
                            autocomplete="off"
                        >
                        <button type="submit">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="11" cy="11" r="8"></circle>
                                <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                            </svg>
                            Search Papers
                        </button>
                    </form>
                    <div class="suggestions">
                        <span>Try:</span>
                        <button class="suggestion" data-query="machine learning healthcare NLP">ML in Healthcare</button>
                        <button class="suggestion" data-query="transformer neural networks attention">Transformers</button>
                        <button class="suggestion" data-query="climate change mitigation strategies">Climate Change</button>
                    </div>
                </div>
            </div>

            <!-- Session View -->
            <div id="session-view" class="session-view hidden">
                <!-- Session Header -->
                <div class="session-header">
                    <div class="session-info">
                        <h2 id="session-title">Research Session</h2>
                        <div id="session-meta" class="session-meta"></div>
                    </div>
                    <div id="session-status" class="status-pill">initiated</div>
                </div>

                <!-- Tabs -->
                <div class="tabs">
                    <button class="tab active" data-tab="papers">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                            <polyline points="14 2 14 8 20 8"></polyline>
                        </svg>
                        Papers <span id="papers-count" class="count">0</span>
                    </button>
                    <button class="tab" data-tab="chat">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                        </svg>
                        Chat
                    </button>
                    <button class="tab" data-tab="report">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                            <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                        </svg>
                        Report
                    </button>
                </div>

                <!-- Tab Content -->
                <div class="tab-content">
                    <!-- Papers Tab -->
                    <div id="papers-tab" class="tab-panel active">
                        <div class="papers-toolbar">
                            <div class="selection-info">
                                <span id="selection-count">0 selected</span>
                            </div>
                            <div class="toolbar-actions">
                                <button id="select-all-btn" class="btn-secondary">Select All</button>
                                <button id="generate-btn" class="btn-primary">Generate Report</button>
                            </div>
                        </div>
                        <div id="papers-list" class="papers-list"></div>
                    </div>

                    <!-- Chat Tab -->
                    <div id="chat-tab" class="tab-panel hidden">
                        <div id="chat-messages" class="chat-messages">
                            <div class="chat-welcome">
                                <p>Ask questions about the papers in this session.</p>
                                <p class="hint">The AI will analyze the paper abstracts to answer your questions.</p>
                            </div>
                        </div>
                        <form id="chat-form" class="chat-input-form">
                            <input
                                type="text"
                                id="chat-input"
                                placeholder="Ask about these papers..."
                                autocomplete="off"
                            >
                            <button type="submit" id="chat-submit">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <line x1="22" y1="2" x2="11" y2="13"></line>
                                    <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                                </svg>
                            </button>
                        </form>
                    </div>

                    <!-- Report Tab -->
                    <div id="report-tab" class="tab-panel hidden">
                        <div id="report-placeholder" class="report-placeholder">
                            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1">
                                <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                                <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                            </svg>
                            <p>No report generated yet</p>
                            <span>Select papers and click "Generate Report" to create a literature review</span>
                        </div>
                        <div id="report-content" class="report-content hidden"></div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Loading Overlay -->
        <div id="loading-overlay" class="loading-overlay hidden">
            <div class="loading-content">
                <div class="loading-spinner">
                    <div class="spinner-ring"></div>
                    <div class="spinner-ring"></div>
                    <div class="spinner-ring"></div>
                </div>
                <p id="loading-text" class="loading-text">Loading...</p>
                <div id="loading-progress" class="loading-progress hidden">
                    <div id="progress-bar" class="progress-bar"></div>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
